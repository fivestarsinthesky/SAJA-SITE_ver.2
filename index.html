<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>?¬ì?•ì???¸ë˜ë°?| ?¬ìŠ¤??ê·¸ë¦¬??/title>
<style>
  :root { --gap: 8px; --tile-ratio: 56.25%; --maxw: 1600px; --hero: clamp(46px, 10.6vw, 173px); }

  /* ====== Title Bar sizing variables ====== */
  :root{
    --tb-sidePad: 12px;
    --tb-vertPad: clamp(8px,  2vw, 16px);
    --tb-gap:     clamp(8px,  2vw, 16px);
    --tb-centerW: clamp(180px, 42vw, 520px);
    --tb-rightW:  clamp(80px,  18vw, 240px);
  }

  * { box-sizing: border-box; }
  body {
    margin:0;
    font-family: system-ui, "Noto Sans KR", sans-serif;
    background: #fff url('./assets/poster.jpeg') no-repeat center center fixed; background-size: 100% 100%;
    color:#111;
    min-height: 100vh;
  }
  /* UPDATED: make grid stick right under the title */
  .wrap { max-width: var(--maxw); margin:0 auto; padding:24px 24px 28px; padding-top: var(--hero); }

  /* ê¸°ë³¸ 10??*/
  .grid { display:grid; grid-template-columns:repeat(10,1fr); gap:var(--gap); }
  .tile { position:relative; overflow:hidden; border-radius:12px; border: none; background:#f7f7f7; }
  .tile::before { content:""; display:block; padding-top: var(--tile-ratio); }
  .tile img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; transition:transform .2s; }
  .tile:hover img{ transform:scale(1.03); }

  /* ?¼ë²¨: ??ì¤?? ì? + ê°€?…ì„± */
  .label{
    position:absolute; left:0; right:0; bottom:0;
    padding:6px 8px;
    color:#fff; background:linear-gradient(to top, rgba(0,0,0,.65), rgba(0,0,0,0));
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    font-weight:700;
    line-height:1.1;
    font-size: 10px;
  }

  /* ?¨ê³„??ë°˜ì‘??*/
  @media (max-width:1400px){ .grid{ grid-template-columns:repeat(8,1fr); } }
  @media (max-width:1200px){ .grid{ grid-template-columns:repeat(6,1fr); } }
  @media (max-width:900px){  .grid{ grid-template-columns:repeat(4,1fr); } .wrap{ padding:16px 20px 24px; } }
  @media (max-width:640px){  .grid{ grid-template-columns:repeat(2,1fr); } }

  /* ?¤ë²„?ˆì´ */
  body::before{
    content:"";
    position:fixed; inset:0;
    background: rgba(255,255,255,.05);
    pointer-events:none;
  }

  /* ===== ?ë‹¨ ê³ ì • ?€?´í? ë°? ì¤‘ì•™/?¤ë¥¸ìª??´ë?ì§€ ===== */
  .title-fixed{
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    z-index: 1000;
    pointer-events: none; /* ?´ë? ?”ì†Œë§??´ë¦­ ê°€??*/
  }
  .title-bar{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:var(--tb-gap);
    padding:var(--tb-vertPad) var(--tb-sidePad);
    width:100%;
    box-sizing:border-box;
  }
  .title-center,
  .title-right{
    display:block;
    height:auto;
    width:100%;
    max-width:none;
    pointer-events:auto; /* ?´ë?ì§€ ?´ë¦­ ?ˆìš© */
  }
  .title-ghost{ /* ?¼ìª½ ê· í˜•???¬ëª… ?¤í˜?´ì„œ */
    width:var(--tb-rightW);
    height:1px;
    opacity:0;
  }
  .title-center{ width:var(--tb-centerW); }
  .title-right { width:var(--tb-rightW); object-fit:contain; margin-right:30px; }

  @media (max-width: 380px){
    :root{
      --tb-centerW: clamp(160px, 50vw, 520px);
      --tb-rightW:  clamp(64px,  16vw, 240px);
    }
  }

  /* ?€?´í? ?’ì´ë§Œí¼ ë³¸ë¬¸???„ë˜ë¡?ë°€ê¸? JSê°€ --hero???¤ì œ ?’ì´ ì£¼ì… */
  /* (moved up: now just var(--hero)) */

  /* ------- SNS ?‘ì? ê·¸ë¦¬??(?ë‹¨ ì¢Œì¸¡ ê³ ì •) ------- */
  :root{ --sns-size: 56px; }
  @media (max-width: 640px){ :root{ --sns-size: 32px; } }

  /* UPDATED: align SNS grid bottom with title bar bottom and subtract padding */
  .sns-grid{
    position: fixed;
    top: calc(var(--hero) - var(--sns-size) - var(--tb-vertPad));
    left: 12px;
    z-index: 1100;
    display: grid;
    grid-template-columns: repeat(3, var(--sns-size));
    grid-auto-rows: var(--sns-size);
    gap: 8px;
  }

  .sns-grid a{
    width: var(--sns-size);
    height: var(--sns-size);
    display: inline-grid;
    place-items: center;
    overflow: hidden;
  }

  .sns-grid img{
    width: 100%;
    height: auto;
    display: block;
  }

  .sns-grid a:focus-visible{
    outline: 2px solid #6b6bff;
    outline-offset: 2px;
  }

  @font-face {
    font-family: 'GmarketSansLight';
    src: url('/assets/fonts/GmarketSansTTFLight.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }
  body { font-family: 'GmarketSansLight', system-ui, 'Noto Sans KR', sans-serif; }

  /* ===== Modal (Lyrics & More) unified glass style ===== */
  .lp-modal[id^="modal"] .lp-modal__body{
    background: transparent;              /* ?¤í¬ë¡??ì—­?€ ?¬ëª… */
    overflow: auto;
    scrollbar-gutter: stable;
  }

  .lp-modal[id^="modal"] .lp-modal__panel{
    background: rgba(255,255,255,0.85);   /* ? ë¦¬???ë‚Œ */
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.18), 0 2px 6px rgba(0,0,0,0.08);
  }

  /* ?”ë³´ê¸?ê°€??ê³µí†µ: ?´ë? ?¬ë°± ê· í˜• */
  .lp-modal[id^="modal"] .lp-modal__panel,
  .lp-modal[id^="modal"] .lp-modal__body{
    padding: 16px;
  }

  @media (max-width: 640px){
    .lp-modal[id^="modal"] .lp-modal__panel{
      background: rgba(255,255,255,0.90);
      border-radius: 14px;
    }
  }

  /* (? íƒ) ?¤í¬ë¡¤ë°” ë¯¸ì„¸ ?¤í???*/
  .lp-modal[id^="modal"] .lp-modal__body::-webkit-scrollbar{
    width: 10px;
  }
  .lp-modal[id^="modal"] .lp-modal__body::-webkit-scrollbar-thumb{
    border-radius: 10px;
    background: rgba(0,0,0,0.2);
  }
  .lp-modal[id^="modal"] .lp-modal__body::-webkit-scrollbar-track{
    background: transparent;
  }

  @media (max-width: 640px){
    .wrap{ padding-top: calc(var(--hero) + 8px); } /* mobile: avoid overlap with fixed title */
  }


.page-footer {
  position: fixed;
  left: 0;
  bottom: 10px;
  width: 100%;
  box-sizing: border-box;
  padding: 0 12px;
  text-align: center;
  font-size: clamp(8px, 2.5vw, 10px);  /* desktop: shrink if needed, max 10px */
  color: rgba(255, 255, 255, 0.7);
  z-index: 9999;
  white-space: nowrap;   /* keep one line */
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Mobile: in-flow under grid, two lines, occupies space */
@media (max-width: 900px) {
  .page-footer {
    position: static;             /* in flow under grid */
    width: 100%;
    padding: 0 16px;
    margin: 16px auto 12px;
    font-size: clamp(8px, 3.2vw, 10px);  /* mobile: shrink more aggressively, max 10px */
    white-space: normal;          /* allow wrapping */
    overflow: visible;
    text-overflow: clip;
  }
  .page-footer span { display: block; }
}
  .page-footer span { display: block; }  /* split into two lines */
}
}

</style>

<style>

/* === Mobile: title & SNS follow the page flow (no fixed) === */
@media (max-width: 900px){
  /* ?€?´í?ë°”ë? ê³ ì • ?´ì œ: ë¬¸ì„œ ?ë¦„???£ê¸° */
  .title-fixed{
    position: static !important;
    width: 100% !important;
    z-index: auto !important;
    pointer-events: auto !important; /* ?´ë?ì§€ ?´ë¦­ ? ì? */
  }

  /* ?€?´í? ?’ì´??ë§ì¶° ë³¸ë¬¸??ë°€??ê°??œê±° (?´ì œ ê³ ì •???„ë‹˜) */
  .wrap{
    padding-top: 16px !important;   /* ?ì—°?¤ëŸ¬???ë‹¨ ê°„ê²©ë§?? ì? */
  }

  /* SNS ê·¸ë¦¬?œë„ ê³ ì • ?´ì œ + ?ì—°?¤ëŸ¬??ê°„ê²© */
  .sns-grid{
    position: static !important;
    top: auto !important;
    left: auto !important;
    z-index: auto !important;
    margin: 0 0 12px !important;   /* ?€?´í? ë°”ë¡œ ?„ë˜ ë¶™ê²Œ */
  }
}

</style>
</head>
<body>
  <div class="title-fixed">
    <div class="title-bar">
      <div class="title-ghost"></div>
      <img class="title-center" src="./title1.png" alt="?¬ì?•ì???¸ë˜ë°??€?´í?(ì¤‘ì•™)">
      <img class="title-right"  src="./title2.png" alt="?¬ì?•ì ìºë¦­???¤ë¥¸ìª?">
    </div>
  </div>

  <main class="wrap">
    <nav aria-label="SNS ë§í¬" class="sns-grid" style="margin-bottom:8px;">
      <a aria-label="YouTube" href="https://www.youtube.com/@lionprince.x" rel="noopener" target="_blank"><img alt="YouTube" src="./assets/icons/SNS01.png?v=20250812162819a"/></a>
      <a aria-label="X" href="https://x.com/" rel="noopener" target="_blank"><img alt="X" src="./assets/icons/SNS02.png?v=20250812162819b"/></a>
      <a aria-label="Naver Cafe" href="https://cafe.naver.com/" rel="noopener" target="_blank"><img alt="Naver Cafe" src="./assets/icons/SNS03.png?v=20250812162819c"/></a>
    </nav>
    <div class="grid" id="grid"></div>
  <div class="page-footer">
  <span>??ì½˜í…ì¸?Â· Â© 2025. ?ˆë¬¼ë§ì? T?ì. Â· ëª¨ë“  ?€?‘ë¬¼??ê¶Œë¦¬???ì??‘ì???¬ì?•ì?ê²Œ ?ˆìŠµ?ˆë‹¤.</span>
  <span>Fan-made Â· Â© 2025. ?ˆë¬¼ë§ì? T?ì. Â· All original content belongs to lionprince.x.</span>
</div>
  </main>

  <!-- ?€?´í? ?’ì´??ë§ì¶° ë³¸ë¬¸ ë°€ê¸?-->
  <script>
  (function(){
    function setHero(){
      var t = document.querySelector('.title-fixed');
      if(!t) return;
      var h = t.getBoundingClientRect().height || 0;
      document.documentElement.style.setProperty('--hero', (h) + 'px');
    }
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      setTimeout(setHero, 0);
    } else {
      document.addEventListener('DOMContentLoaded', setHero);
    }
    var imgs = document.querySelectorAll('.title-fixed img');
    imgs.forEach(function(img){ img.addEventListener('load', setHero, { once:false }); });
    var tid;
    window.addEventListener('resize', function(){
      clearTimeout(tid);
      tid = setTimeout(setHero, 100);
    });
  })();
  </script>

  <!-- ?°ì´??ë¡œë“œ -->
  <script src="./assets/data/tracks.js?v=cache"></script>

  <!-- ê·¸ë¦¬???Œë” -->
  <script>
  (function () {
    const grid = document.getElementById('grid');
    if (!grid) return;
    function fitLabel(el, options){
      const max = (options && options.max) || 14;
      const min = (options && options.min) || 10;
      const step = (options && options.step) || 1;
      let size = max;
      el.style.fontSize = size + 'px';
      el.style.whiteSpace = 'nowrap';
      el.style.overflow = 'hidden';
      el.style.textOverflow = 'ellipsis';
      while (size > min && el.scrollWidth > el.clientWidth) {
        size -= step;
        el.style.fontSize = size + 'px';
      }
    }

    try {
      const data = (window.TRACKS && Array.isArray(window.TRACKS)) ? window.TRACKS : [];
      if (!data.length) {
        console.error('TRACKS ë¹„ì–´?ˆìŒ ?ëŠ” ë¡œë“œ ?¤íŒ¨');
        grid.innerHTML = '<div style="padding:24px;font-weight:700;">?°ì´?°ê? ?†ìŠµ?ˆë‹¤. assets/data/tracks.jsë¥??•ì¸?˜ì„¸??</div>';
        return;
      }

      const frag = document.createDocumentFragment();
      data.forEach(item => {
        const a = document.createElement('a');
        a.className = 'tile';
        if (item.ratio) a.style.setProperty('--tile-ratio', item.ratio);
        a.href = './detail.html?id=' + encodeURIComponent(item.id);
        a.innerHTML = `
          <img loading="lazy" src="${item.thumb}" alt="${item.artist} - ${item.title}">
          <div class="label">${item.artist} - ${item.title}</div>
        `;
        frag.appendChild(a);
      });
      grid.innerHTML = '';
      grid.appendChild(frag);

      const labels = grid.querySelectorAll('.label');
      labels.forEach(label => fitLabel(label, {max:14, min:10, step:1}));

      let t;
      window.addEventListener('resize', () => {
        clearTimeout(t);
        t = setTimeout(() => {
          labels.forEach(label => fitLabel(label, {max:14, min:10, step:1}));
        }, 100);
      });
    } catch (e) {
      console.error(e);
      grid.innerHTML = '<div style="padding:24px;font-weight:700;">?¤í¬ë¦½íŠ¸ ?¤ë¥˜ê°€ ë°œìƒ?ˆìŠµ?ˆë‹¤. ì½˜ì†”???•ì¸?˜ì„¸??</div>';
    }
  })();
  </script>


</body>
</html>
<!-- deploy trigger -->
